apply plugin: "cpp"

model {
    components {
        main(NativeExecutableSpec) {
            sources {
                cpp.lib library: "graphics"
            }
        }
        graphics(NativeLibrarySpec) {
            sources {
                cpp.lib library: "allegro_wrapper"
            }
        }
        allegro_wrapper(NativeLibrarySpec) {
            sources {
                cpp.lib library: "allegro"
            }
        }
    }
    repositories {
        libs(PrebuiltLibraries) {
            allegro {
                headers.srcDir getProperty("allegro.headers")
                binaries.withType(SharedLibraryBinary) {
                    sharedLibraryFile = file(getProperty("allegro.liballegro"))
                }
            }
        }
    }
}
